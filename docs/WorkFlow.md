# 工作流系统和节点概述

## 工作流系统

工作流系统是一个灵活且强大的框架，用于设计和执行复杂的任务序列。它允许用户通过组合不同类型的节点来创建自定义的处理流程。这个系统特别适用于需要多步骤处理、决策和数据流的应用场景，如对话系统、数据处理管道或自动化任务执行。
![alt text](assets/wf-node.png)
## 节点类型及其作用

### 1. 输入节点 (InputNode)
- 功能：接收和处理初始输入。
- 作用：将用户输入或系统触发的数据转换为工作流可处理的格式。
- 实现：提取最新的人类消息，并将其作为查询存储在节点输出中。

### 2. LLM节点 (LLMNode)
- 功能：利用大型语言模型进行文本生成和处理。
- 作用：根据输入生成响应，可以理解上下文并执行复杂的语言任务。
- 特点：可配置不同的模型和参数，支持系统提示，能够调用其他工具。

### 3. 检索节点 (RetrievalNode)
- 功能：从知识库中检索相关信息。
- 作用：根据查询从指定的知识库中获取相关数据，增强工作流的信息处理能力。
- 应用：可用于问答系统、信息补充等场景。

### 4. 工具节点 (ToolNode)
- 功能：执行特定的任务或操作。
- 作用：扩展工作流的功能，可以执行计算、API调用等特定操作。
- 灵活性：可以是预定义工具，也可以是自定义的业务逻辑。

### 5. 检索工具节点 (RetrievalToolNode)
- 功能：结合检索能力和工具功能。
- 作用：从特定知识库检索信息，并将其作为工具的输入或输出。
- 优势：增强了工具节点的信息处理能力，特别适用于需要背景知识的任务。

### 6. 回答节点 (AnswerNode)
- 功能：生成最终的回答或输出。
- 作用：整合前序节点的输出，生成符合特定格式或要求的最终回答。
- 应用：通常用于工作流的末端，提供最终的输出结果。

### 7. 子图节点 (SubgraphNode)
- 功能：封装一个完整的子工作流。
- 作用：允许创建模块化和可重用的工作流组件。
- 优势：提高了工作流的组织性和可维护性，支持复杂逻辑的封装。

### 8. 开始和结束节点
- 开始节点：标记工作流的起点，通常连接到输入节点。
- 结束节点：标记工作流的终点，用于输出最终结果或结束处理。

## 未来计划添加的节点

### 9. 意图识别节点
- 功能：分析用户输入，识别其意图。
- 作用：根据识别的意图引导工作流的后续处理。

### 10. 条件分支节点 (If-Else)
- 功能：根据条件执行不同的分支。
- 作用：增加工作流的逻辑复杂性和灵活性。

### 11. 文件上传节点
- 功能：处理用户上传的文件。
- 作用：允许工作流处理外部文件输入。

### 12. 代码执行节点
- 功能：执行特定的代码片段。
- 作用：增加工作流的编程能力，可以执行复杂的计算或逻辑。

### 13. 参数提取节点
- 功能：从输入中提取关键参数。
- 作用：简化后续节点的处理，提高工作流的效率。

## 工作流构建

工作流通过组合和连接这些节点来创建。每个节点都可以接收输入、处理数据，并将输出传递给下一个节点。节点之间的连接定义了数据和控制流的路径，允许创建线性、分支或循环的处理流程。

## 应用场景

这种灵活的工作流系统适用于多种场景，包括但不限于：
- 复杂的对话系统
- 数据处理和分析管道
- 自动化决策系统
- 知识管理和检索系统
- 多步骤的任务自动化

通过适当地组合和配置这些节点，用户可以创建出强大而灵活的工作流，以满足各种复杂的业务需求和应用场景。

